webpackJsonp([11],{GsCX:function(e,t,r){var a=r("riFV");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);r("8bSs")("46a88dd8",a,!0)},LBt6:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r("aA9S"),o=r.n(a),n=r("vZz+"),s=r("nv77"),l=r("xE3b"),i=r("0TTq"),u={data:function(){var e=this;return o()({},i.a,{form:{status:String(this.$route.params.data.status)},rules:{username:[{required:!0,validator:function(e,t,r){t?/^[A-Za-z\u4e00-\u9fa5]{3,15}$/.test(t)?r():r(new Error("用户名为 3 到 15 个字符组成，包括汉字，大小写字母（不区分大小写）")):r(new Error("请输入账号"))},trigger:"blur"}],roleId:[{required:!0,message:"请输入角色",trigger:"change"}],pwd:[{required:!0,validator:function(t,r,a){r?/^[A-Za-z0-9]{8,}$/.test(r)?(e.form.checkPass&&e.$refs.ruleForm.validateField("checkPass"),a()):a(new Error("最小长度为 8 个字符")):a(new Error("请输入密码"))},trigger:"blur"}],checkPass:[{required:!0,validator:function(t,r,a){r?r!==e.form.pwd?a(new Error("两次输入密码不一致!")):a():a(new Error("请再次输入密码"))},trigger:"blur"}],phone:[{validator:function(e,t,r){!/^1\d{10}$/.test(t)&&t?r(new Error("请输入正确的手机号")):r()},trigger:"blur"}],status:[{required:!0,message:"请选择状态",trigger:"change"}]},daterange:[],info:[],data:[],roles:[]})},computed:{listQuery:function(){return delete this.form.checkPass,o()({},this.form,{})}},created:function(){if(this.getRolesList(),this.$route.params.data){var e=this.$route.params.data;this.form.id=e.id,this.form.roleId=e.roleId,this.form.username=e.username,this.form.phone=e.phone}else this.$router.back()},methods:{onSubmit:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;t.update(t.listQuery)})},getRolesList:function(){var e=this;Object(n.d)({pageIndex:1,pageSize:1e6}).then(function(t){e.roles=t.data.data})},imgUploaded:function(e,t){this.form.visaPath=e.data},imgRemove:function(e,t){this.form.visaPath=null},update:function(e){var t=this;Object(s.b)(e).then(function(e){t.$alert("添加成功","提示",{confirmButtonText:"确定",callback:function(e){t.$router.back()}})})}},components:{TitleLine:l.a}},c={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"app-container"},[r("title-line",{attrs:{txt:"编辑账号"}}),e._v(" "),r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.form,rules:e.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"所属角色",prop:"roleId"}},[r("el-select",{attrs:{disabled:"",placeholder:"请选择"},model:{value:e.form.roleId,callback:function(t){e.$set(e.form,"roleId",t)},expression:"form.roleId"}},e._l(e.roles,function(e){return r("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),r("el-form-item",{attrs:{label:"账号",prop:"username"}},[r("el-input",{attrs:{placeholder:"请输入用户名，用户名为3到15个字符组成，包括汉字，大小写字母（不区分大小写）",disabled:""},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"密码",prop:"pwd"}},[r("el-input",{attrs:{type:"password",placeholder:"请填写密码，最小长度为 8 个字符"},model:{value:e.form.pwd,callback:function(t){e.$set(e.form,"pwd",t)},expression:"form.pwd"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"确认密码",prop:"checkPass"}},[r("el-input",{attrs:{type:"password",placeholder:"再次输入密码，请确保两次密码一致"},model:{value:e.form.checkPass,callback:function(t){e.$set(e.form,"checkPass",t)},expression:"form.checkPass"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"使用人姓名"}},[r("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"手机号",prop:"phone"}},[r("el-input",{model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"状态",prop:"status"}},[r("el-radio-group",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},[r("el-radio",{attrs:{label:"0"}},[e._v("正常")]),e._v(" "),r("el-radio",{attrs:{label:"1"}},[e._v("冻结")])],1)],1),e._v(" "),r("el-form-item",{staticClass:"btn",attrs:{size:"large"}},[r("el-button",{attrs:{type:"info"},nativeOn:{click:function(t){e.$router.back()}}},[e._v("取消")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.onSubmit("ruleForm")}}},[e._v("保存")])],1)],1)],1)},staticRenderFns:[]};var m=r("vSla")(u,c,!1,function(e){r("GsCX")},"data-v-fe643bba",null);t.default=m.exports},riFV:function(e,t,r){(e.exports=r("BkJT")(!1)).push([e.i,"\n.app-container[data-v-fe643bba] {\n  padding-left: 50px;\n}\n.app-container .title[data-v-fe643bba] {\n    font-size: 30px;\n    color: #606266;\n}\n.app-container .form[data-v-fe643bba] {\n    margin-top: 30px;\n    padding: 30px;\n    padding-bottom: 5px;\n    background: #F2F6FC;\n}\n.app-container .form .btn[data-v-fe643bba] {\n      margin-top: 30px;\n}\n",""])}});