webpackJsonp([32],{NNnX:function(e,r,t){(e.exports=t("FZ+f")(!1)).push([e.i,"\n.avatar-uploader .el-upload[data-v-2dd9c551] {\n  border: 1px dashed #d9d9d9;\n  border-radius: 6px;\n  cursor: pointer;\n  position: relative;\n  overflow: hidden;\n}\n.avatar-uploader .el-upload[data-v-2dd9c551]:hover {\n  border-color: #409EFF;\n}\n.avatar-uploader-icon[data-v-2dd9c551] {\n  font-size: 28px;\n  color: #8c939d;\n  width: 178px;\n  height: 178px;\n  line-height: 178px;\n  text-align: center;\n}\n.avatar[data-v-2dd9c551] {\n  width: 178px;\n  height: 178px;\n  display: block;\n}\n.addVisa-form[data-v-2dd9c551] {\n  margin-top: 20px;\n}\n",""])},tt7G:function(e,r,t){var i=t("NNnX");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);t("rjj0")("515f06dc",i,!0)},zzBb:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=t("woOf"),l=t.n(i),a=t("NLJq"),o={data:function(){var e=function(e,r,t){if(!/^[0-9]*$/.test(r))return t(new Error("必须是数字"));t()};return{imageUrl:"",unitDay:{30:"30天",60:"60天",90:"90天",0:"长期"},intoType:{0:"单次",1:"多次"},isUrgent:{1:"是",0:"否"},isInterview:{1:"是",0:"否"},ruleForm:{title:"",goodsNum:"",unitDay:"",intoType:"",isUrgent:"",isInterview:"",lowVisaPrice:"",helpPrice:"",lowHelpPrice:"",stayDay:"",disposeDay:"",renewPrice:""},rules:{goodsNum:[{required:!0,trigger:"change",message:"请上传图片"}],title:[{required:!0,trigger:"blur",message:"请输入商品名称"}],unitDay:[{required:!0,trigger:"change",message:"请选择签证有效期"}],intoType:[{required:!0,trigger:"change",message:"请选择入境次数"}],isUrgent:[{required:!0,trigger:"change",message:"请选择是否加急"}],isInterview:[{required:!0,trigger:"change",message:"请选择是否面试"}],visaPrice:[{required:!0,trigger:"blur",message:"请输入签证费"},{validator:e,trigger:"blur"}],lowVisaPrice:[{required:!0,trigger:"blur",message:"请输入签证优惠费"},{validator:e,trigger:"blur"}],helpPrice:[{required:!0,trigger:"blur",message:"请输入服务费"},{validator:e,trigger:"blur"}],lowHelpPrice:[{required:!0,trigger:"blur",message:"请输入服务优惠费"},{validator:e,trigger:"blur"}],stayDay:[{required:!0,trigger:"blur",message:"请输入停留时间"},{validator:e,trigger:"blur"}],disposeDay:[{required:!0,trigger:"blur",message:"请输入处理时间"},{validator:e,trigger:"blur"}],renewPrice:[{validator:e,trigger:"blur"}]}}},created:function(){},methods:{handleAvatarSuccess:function(e,r){this.imageUrl=URL.createObjectURL(r.raw),console.log(r.response.data),this.ruleForm.goodsNum=r.response.data},beforeAvatarUpload:function(e){var r=e.size/1024/1024<2;return r||this.$message.error("上传头像图片大小不能超过 2MB!"),r},submitForm:function(e){var r=this;this.$refs[e].validate(function(e){if(console.log("调试2",r.ruleForm),!e)return console.log("error submit!!"),!1;console.log("submit!");var t=l()({},r.ruleForm);t.helpPrice*=100,t.lowHelpPrice*=100,t.lowVisaPrice*=100,t.renewPrice*=100,t.visaPrice*=100,Object(a.a)(t).then(function(e){200==e.code&&(alert("新建成功"),history.back())})})},resetForm:function(e){this.$refs[e].resetFields()}}},s={render:function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"addVisa-form"},[t("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"130px"}},[t("el-form-item",{staticStyle:{width:"312px"},attrs:{label:"商品名称",prop:"title"}},[t("el-input",{model:{value:e.ruleForm.title,callback:function(r){e.$set(e.ruleForm,"title",r)},expression:"ruleForm.title"}})],1),e._v(" "),t("el-form-item",{staticStyle:{width:"312px"},attrs:{label:"商品图片",prop:"goodsNum"}},[t("el-upload",{staticClass:"avatar-uploader",staticStyle:{border:"1px solid #000",width:"178px",height:"178px"},attrs:{action:"/image/uploadfile","show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[e.imageUrl?t("img",{staticClass:"avatar",attrs:{src:e.imageUrl}}):t("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e._v(" "),t("el-form-item",{attrs:{label:"签证有效期",prop:"unitDay"}},[t("el-select",{attrs:{placeholder:"请选择"},model:{value:e.ruleForm.unitDay,callback:function(r){e.$set(e.ruleForm,"unitDay",r)},expression:"ruleForm.unitDay"}},e._l(e.unitDay,function(e,r){return t("el-option",{key:r,attrs:{label:e,value:r}})}))],1),e._v(" "),t("el-form-item",{attrs:{label:"入境次数",prop:"intoType"}},[t("el-select",{attrs:{placeholder:"请选择"},model:{value:e.ruleForm.intoType,callback:function(r){e.$set(e.ruleForm,"intoType",r)},expression:"ruleForm.intoType"}},e._l(e.intoType,function(e,r){return t("el-option",{key:r,attrs:{label:e,value:r}})}))],1),e._v(" "),t("el-form-item",{attrs:{label:"是否加急",prop:"isUrgent"}},[t("el-radio-group",{model:{value:e.ruleForm.isUrgent,callback:function(r){e.$set(e.ruleForm,"isUrgent",r)},expression:"ruleForm.isUrgent"}},e._l(e.isUrgent,function(r,i){return t("el-radio",{key:i,attrs:{label:i}},[e._v(e._s(r))])}))],1),e._v(" "),t("el-form-item",{attrs:{label:"是否面试",prop:"isInterview"}},[t("el-radio-group",{model:{value:e.ruleForm.isInterview,callback:function(r){e.$set(e.ruleForm,"isInterview",r)},expression:"ruleForm.isInterview"}},e._l(e.isInterview,function(r,i){return t("el-radio",{key:i,attrs:{label:i}},[e._v(e._s(r))])}))],1),e._v(" "),t("el-form-item",{staticStyle:{width:"312px"},attrs:{label:"签证费(元)",prop:"visaPrice"}},[t("el-input",{model:{value:e.ruleForm.visaPrice,callback:function(r){e.$set(e.ruleForm,"visaPrice",e._n(r))},expression:"ruleForm.visaPrice"}})],1),e._v(" "),t("el-form-item",{staticStyle:{width:"312px"},attrs:{label:"签证优惠费(元)",prop:"lowVisaPrice"}},[t("el-input",{model:{value:e.ruleForm.lowVisaPrice,callback:function(r){e.$set(e.ruleForm,"lowVisaPrice",e._n(r))},expression:"ruleForm.lowVisaPrice"}})],1),e._v(" "),t("el-form-item",{staticStyle:{width:"312px"},attrs:{label:"服务费(元)",prop:"helpPrice"}},[t("el-input",{model:{value:e.ruleForm.helpPrice,callback:function(r){e.$set(e.ruleForm,"helpPrice",e._n(r))},expression:"ruleForm.helpPrice"}})],1),e._v(" "),t("el-form-item",{staticStyle:{width:"312px"},attrs:{label:"服务优惠费(元)",prop:"lowHelpPrice"}},[t("el-input",{model:{value:e.ruleForm.lowHelpPrice,callback:function(r){e.$set(e.ruleForm,"lowHelpPrice",e._n(r))},expression:"ruleForm.lowHelpPrice"}})],1),e._v(" "),t("el-form-item",{staticStyle:{width:"312px"},attrs:{label:"停留时间(天)",prop:"stayDay"}},[t("el-input",{model:{value:e.ruleForm.stayDay,callback:function(r){e.$set(e.ruleForm,"stayDay",e._n(r))},expression:"ruleForm.stayDay"}})],1),e._v(" "),t("el-form-item",{staticStyle:{width:"312px"},attrs:{label:"处理时间(天)",prop:"disposeDay"}},[t("el-input",{model:{value:e.ruleForm.disposeDay,callback:function(r){e.$set(e.ruleForm,"disposeDay",r)},expression:"ruleForm.disposeDay"}})],1),e._v(" "),t("el-form-item",{staticStyle:{width:"312px"},attrs:{label:"续签费用(元)",prop:"renewPrice"}},[t("el-input",{model:{value:e.ruleForm.renewPrice,callback:function(r){e.$set(e.ruleForm,"renewPrice",e._n(r))},expression:"ruleForm.renewPrice"}})],1),e._v(" "),t("el-form-item",[t("el-button",{directives:[{name:"permission",rawName:"v-permission",value:["visa-add-publish"],expression:"['visa-add-publish']"}],attrs:{type:"primary"},on:{click:function(r){e.submitForm("ruleForm")}}},[e._v("提交")]),e._v(" "),t("el-button",{directives:[{name:"permission",rawName:"v-permission",value:["visa-add-cancel"],expression:"['visa-add-cancel']"}],on:{click:function(r){e.resetForm("ruleForm")}}},[e._v("重置")])],1)],1)],1)},staticRenderFns:[]};var n=t("VU/8")(o,s,!1,function(e){t("tt7G")},"data-v-2dd9c551",null);r.default=n.exports}});